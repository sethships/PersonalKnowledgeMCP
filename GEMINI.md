# Gemini Project: Personal Knowledge MCP

This document provides a comprehensive overview of the Personal Knowledge MCP project, generated by the Gemini CLI. Its purpose is to serve as a foundational context for AI-driven development and maintenance tasks.

## Project Overview

Personal Knowledge MCP is a sophisticated, AI-first knowledge management service designed to integrate with AI assistants like Claude Code. It acts as a semantic bridge, allowing AI to efficiently access and retrieve information from software development projects and other knowledge sources.

The service is built on the Model Context Protocol (MCP), enabling a native, purpose-built architecture for AI interaction. It leverages a modern technology stack including **Bun** for the runtime, **TypeScript** for type-safe code, **ChromaDB** for vector-based semantic search, and **OpenAI's text-embedding-3-small** model for generating high-quality embeddings. The entire service is designed to run locally using Docker Compose for the database.

Key functionalities include indexing public and private GitHub repositories, performing semantic searches on the indexed content, and providing AI assistants with relevant context to reduce token usage and improve response accuracy.

The project has reached **V1.0** with Phases 1-3 complete and Phase 4 framework ready. It provides comprehensive semantic code search, knowledge graph analysis, multi-provider embeddings, and enterprise-ready authentication.

## Building and Running

The project uses `bun` as its primary package manager and script runner.

### Prerequisites

*   **Bun**: `v1.0.0` or later
*   **Docker Desktop**: Required for running the ChromaDB vector database.
*   **Git**: For cloning and managing repositories.
*   **OpenAI API Key**: For generating embeddings.

### Quick Start Guide

1.  **Install Dependencies**:
    ```bash
    bun install
    ```

2.  **Configure Environment**: Create a `.env` file from the example and add your OpenAI API key and an optional GitHub Personal Access Token (PAT) for private repositories.
    ```bash
    cp .env.example .env
    # Now, edit the .env file with your credentials
    ```

3.  **Start ChromaDB**: Launch the ChromaDB service in a detached Docker container.
    ```bash
    docker-compose up -d
    ```

4.  **Build the Project**: Compile the TypeScript source code into JavaScript for production.
    ```bash
    bun run build
    ```

5.  **Run the MCP Service**:
    ```bash
    bun run start
    ```

6.  **Run the Command-Line Interface (CLI)**:
    ```bash
    bun run cli -- <command> [options]
    ```

## Key Scripts

| Command                  | Description                                            |
| ------------------------ | ------------------------------------------------------ |
| `bun run build`          | Builds the project for production.                     |
| `bun run dev`            | Runs the MCP server in development mode with hot-reloading. |
| `bun run start`          | Starts the production-ready MCP server.                |
| `bun run cli`            | Executes CLI commands for indexing and searching.      |
| `bun test`               | Runs the entire test suite.                            |
| `bun test:coverage`      | Runs tests and generates a coverage report.            |
| `bun run lint`           | Statically analyzes the code for issues.               |
| `bun run format`         | Formats the code using Prettier.                       |
| `bun run typecheck`      | Runs the TypeScript compiler to check types.           |

## Development Conventions

The project adheres to a set of modern development practices to ensure code quality, consistency, and maintainability.

### Testing

*   The project uses `bun test` for its test runner.
*   A **minimum test coverage of 90%** is enforced, as configured in `bunfig.toml`. This indicates a strong commitment to testing.
*   Tests are organized into `unit`, `integration`, and `e2e` directories.

### Linting and Formatting

*   **ESLint** and **Prettier** are used for code linting and formatting.
*   Configuration is found in `.eslintrc.json` and `.prettierrc`.
*   A pre-commit hook is set up using **Husky** and **lint-staged** to automatically lint and format code before every commit, ensuring that all committed code adheres to the project's style guidelines.

### Code Style

*   The project is written in **TypeScript** and follows standard modern conventions.
*   It uses **ES modules** (`"type": "module"` in `package.json`).
*   Dependency versions are pinned (`exact = true` in `bunfig.toml`) to ensure reproducible builds.

### Contribution

*   The `CONTRIBUTING.md` file provides detailed guidelines for contributors.
*   The development workflow involves creating feature branches, creating pull requests, and ensuring all tests and checks pass.

This `GEMINI.md` file should provide a solid baseline for any future AI-assisted development on the Personal Knowledge MCP project.
