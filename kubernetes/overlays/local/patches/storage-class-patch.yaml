# Storage class patch for local development
#
# Uses local-path storage class (K3s default) or standard (minikube)
# Adjust storageClassName based on your local cluster

# ChromaDB storage class
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: chromadb
spec:
  volumeClaimTemplates:
    - metadata:
        name: data
      spec:
        storageClassName: local-path
        accessModes:
          - ReadWriteOnce
        resources:
          requests:
            storage: 5Gi
---
# PostgreSQL storage class
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: postgres
spec:
  volumeClaimTemplates:
    - metadata:
        name: data
      spec:
        storageClassName: local-path
        accessModes:
          - ReadWriteOnce
        resources:
          requests:
            storage: 2Gi
